language: go

go:
  - "1.11"

branches:
  only:
    - master

install:
  - go get golang.org/x/lint/golint
  - go get -d github.com/lhchavez/git2go
  - (cd ${GOPATH}/src/github.com/lhchavez/git2go/ && ./script/build-libgit2-static.sh)
  - go get -tags=static -t ./...

script:
  - ${GOPATH}/bin/golint ./...
  - go vet -tags=static -v ./...
  - go test -tags=static -v ./...
